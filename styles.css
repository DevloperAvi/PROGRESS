/* ================== THEME VARIABLES ================== */
:root {
  --bg: rgb(33, 33, 33);
  --card: rgb(45, 45, 45);
  --text: rgb(245, 245, 245);
  --muted: rgb(170, 170, 170);

  --primary: rgb(230, 117, 20);
  --success: rgb(6, 146, 62);
  --warning: rgb(230, 117, 20);
  --danger: rgb(239, 68, 68);
  --border: rgb(58, 58, 58);

  --surface: rgb(211, 236, 205);
}

.light {
  --bg: rgb(255, 255, 255);
  --card: rgb(211, 236, 205);
  --text: rgb(33, 33, 33);
  --muted: rgb(85, 85, 85);

  --primary: rgb(230, 117, 20);
  --success: rgb(6, 146, 62);
  --warning: rgb(230, 117, 20);
  --danger: rgb(214, 40, 40);
  --border: rgb(209, 213, 219);
}

/* ================== RESET + BASE ================== */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(96,165,250,.08), transparent),
    radial-gradient(900px 500px at 100% 0, rgba(52,211,153,.08), transparent),
    var(--bg);
  color: var(--text);
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem 2rem;
}

/* ================== HEADER ================== */
header.container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;

  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  backdrop-filter: blur(6px);
  background: color-mix(in oklab, var(--bg) 85%, transparent);
  z-index: 20;
}

.brand { display: flex; align-items: center; gap: .6rem; }
.logo { font-size: 1.6rem; }
nav { display: flex; gap: .5rem; }
.auth, .auth-block { display: flex; align-items: center; gap: .5rem; }
.hidden { display: none !important; }

/* ================== BUTTONS & LINKS ================== */
.link, .btn {
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--text);
  padding: .6rem .9rem;
  border-radius: .9rem;
  cursor: pointer;
  transition: transform .08s ease, background .2s, border-color .2s, box-shadow .2s;
}
.link:hover, .btn:hover { transform: translateY(-1px); }
.btn.outline { background: transparent; }
.btn.success { border-color: var(--success); }
.btn.danger { border-color: var(--danger); }
.btn.small { padding: .4rem .6rem; font-size: .9rem; }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.icon-btn { background: transparent; border: none; cursor: pointer; font-size: 1.2rem; }

/* ================== LAYOUT HELPERS ================== */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1rem;
}
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .75rem;
}
@media (max-width: 640px) { .grid-2 { grid-template-columns: 1fr; } }

.spacer { flex: 1; }
menu { display: flex; gap: .5rem; justify-content: flex-end; align-items: center; padding: 0; }

/* ================== CARDS ================== */
.card {
  background: linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, transparent), var(--card));
  border: 1px solid var(--border);
  padding: 1rem;
  border-radius: 1rem;
  box-shadow: 0 8px 30px rgba(0,0,0,.18);
}
.card.info { border-color: var(--primary); }
.card.success { border-color: var(--success); }
.card.warning { border-color: var(--warning); }

.checkbox { display: flex; align-items: center; gap: .5rem; }
footer { border-top: 1px solid var(--border); margin-top: 2rem; }

/* ================== QUIZ ================== */
.quiz-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: .75rem;
}
.quiz-title-wrap { flex: 1; margin: 0 .75rem; }
.progress {
  height: 8px;
  background: rgba(255,255,255,.06);
  border: 1px solid var(--border);
  border-radius: 999px;
  overflow: hidden;
}
.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), color-mix(in oklab, var(--success) 70%, var(--primary)));
  width: 0%;
  transition: width .35s ease;
}

.quiz-meta { display: flex; align-items: center; gap: 1rem; }
.timer {
  padding: .25rem .6rem;
  border: 1px dashed var(--warning);
  border-radius: 999px;
  font-variant-numeric: tabular-nums;
}
.timer.ok { border-color: var(--success); }
.timer.warn { border-color: var(--warning); }
.timer.danger { border-color: var(--danger); }

.quiz-actions { margin-top: 1rem; display: flex; gap: .5rem; }
.quiz-actions .btn { width: auto; }
#question-container h3 { margin-top: 0; }

/* ================== OPTIONS ================== */
.option {
  display: flex;
  gap: .6rem;
  align-items: flex-start;
  padding: .8rem 1rem;
  border: 1px solid var(--border);
  border-radius: .75rem;
  margin: .6rem 0;
  cursor: pointer;
  position: relative;
  transition: background .2s, border-color .2s, transform .06s ease;
}
.option:hover { background: color-mix(in oklab, var(--card) 85%, transparent); }
.option input {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
}

/* Selected */
.option:has(input:checked) {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 40%, transparent);
  background: color-mix(in oklab, var(--primary) 12%, var(--card));
}

/* Submission states */
.option.correct {
  border-color: var(--success);
  background: color-mix(in oklab, var(--success) 12%, var(--card));
}
.option.wrong {
  border-color: var(--danger);
  background: color-mix(in oklab, var(--danger) 10%, var(--card));
}

/* ================== LISTS ================== */
.list .item {
  border: 1px solid var(--border);
  border-radius: .75rem;
  padding: .75rem;
  display: grid;
  gap: .4rem;
}
.list .row { display: flex; gap: .5rem; align-items: center; justify-content: space-between; }

.admin-gate, .toolbar, .filter-row {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
  margin: .5rem 0;
}

input, textarea, select {
  width: 100%;
  padding: .6rem .7rem;
  border-radius: .6rem;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
}
input:focus, textarea:focus, select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 35%, transparent);
}

.share { display: flex; align-items: center; gap: .75rem; margin-top: .75rem; }

/* ================== RESULTS ================== */
.review-grid { display: grid; grid-template-columns: 1fr; gap: .75rem; }
.score-pulse {
  font-weight: 600;
  font-size: 1.05rem;
  animation: scoreFade .6s ease both;
}
@keyframes scoreFade {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: none; }
}

.fade-in { animation: fade .25s ease both; }
@keyframes fade {
  from { opacity: .5; transform: translateY(4px); }
  to { opacity: 1; transform: none; }
}

/* ================== CATEGORIES ================== */
#categories { margin-bottom: 1.5rem; }
.card.info { margin-top: 1rem; }

@media (min-width: 1024px) {
  #categories { margin-bottom: 2rem; }
  .card.info { margin-top: 1.25rem; }
}
@media (max-width: 480px) {
  #categories { margin-bottom: 0.9rem; }
  .card.info { margin-top: 0.6rem; }
}

.category-card {
  background: linear-gradient(to bottom right, #ffffff, #d3eccd);
  border: 1px solid var(--border);
  border-radius: 1rem;
  padding: 1.2rem 1.4rem;
  box-shadow: 0 6px 20px rgba(0,0,0,0.22);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}
.category-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
  border-color: var(--primary);
}
.category-card .icon {
  font-size: 1.6rem;
  margin-bottom: 0.4rem;
  line-height: 1;
}
.category-card h3 {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 600;
}
.category-card p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--muted);
}
.category-card:hover .icon {
  transform: scale(1.2) rotate(-4deg);
  transition: transform 0.25s ease;
}

/* ================== RESPONSIVENESS ================== */
/* Small devices (≤ 640px) */
@media (max-width: 640px) {
  header.container {
    flex-wrap: wrap;
    padding: 0.75rem 1rem;
    gap: 0.75rem;
  }

  nav {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }

  .auth {
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
  }

  .quiz-head { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
  .quiz-actions { flex-direction: column; width: 100%; }
  .quiz-actions .btn { width: 100%; }

  .card { padding: 0.85rem; }
  body { font-size: 0.95rem; }
  
}

/* Medium devices (641px – 900px) */
@media (min-width: 641px) and (max-width: 900px) {
  header.container { padding: 1rem; gap: 1rem; }
  nav { gap: 0.75rem; }
  .auth { gap: 0.75rem; }
  .quiz-head { flex-direction: column; align-items: flex-start; }
}

/* Large devices (≥ 901px, default desktop) */
@media (min-width: 901px) {
  .quiz-head { flex-direction: row; }
}

/* Mobile menu toggle */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  margin-right: 0.5rem;
}
@media (max-width: 640px) {
  .menu-toggle { display: block; }
  nav {
    display: none;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
    margin-top: 0.5rem;
  }
  nav.nav-open { display: flex; }
}
